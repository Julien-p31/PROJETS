# Tutoriel : Construire un syst√®me d‚Äôauthentification biom√©trique simple  

## üéØ Objectif  
Mettre en place un prototype de syst√®me d‚Äôauthentification biom√©trique utilisant l‚Äôempreinte digitale ou la reconnaissance faciale en Python, avec enregistrement et v√©rification, en moins d'une journ√©e.

## üß† Sc√©nario d‚Äôancrage √©motionnel  
Imaginez un acc√®s s√©curis√© √† votre maison : d√®s que vous approchez, le syst√®me scanne votre empreinte ou votre visage et d√©bloque la porte automatiquement pour vous, tout en gardant un journal d'acc√®s s√©curis√©.

---

## üõ†Ô∏è Pr√©requis  
- Linux ou Raspberry Pi (Ubuntu/Debian)  
- Python 3.9+, `pip`  
- 1 capteur d‚Äôempreinte (UART/USB) ou webcam compatible  
- Librairies¬†:  
  ```bash
  pip install face_recognition flask pyfingerprint opencv-python


‚∏ª

üß© √âtape‚ÄØ1 ‚Äì Diagramme du syst√®me
	1.	Capture : l‚Äôutilisateur pr√©sente son empreinte ou visage.
	2.	Extraction : on convertit l‚Äôimage en signature biom√©trique.
	3.	Enregistrement : signature stock√©e en base.
	4.	V√©rification : nouvelle capture compar√©e √† la base.
	5.	D√©cision : acc√®s accord√© ou refus√©.  Ôøº Ôøº

‚∏ª

üß© √âtape‚ÄØ2 ‚Äì Enregistrement & v√©rification d‚Äôempreinte (Raspberry Pi)

# fingerprint_auth.py
from pyfingerprint.pyfingerprint import PyFingerprint

f = PyFingerprint('/dev/ttyUSB0', 57600, 0xFFFFFFFF, 0x00000000)
if not f.verifyPassword(): raise ValueError("Sensor failed")

# Enroll finger
print('Copy finger...')
while not f.readImage(): pass
f.convertImage(0x01)
f.createTemplate()
position = f.storeTemplate()
print("Stored at", position)

# V√©rification
print('Place finger to verify...')
while not f.readImage(): pass
f.convertImage(0x01)
result = f.searchTemplate()
print("Found at", result[0] if result[0]>=0 else "No match")

üëâ Fonctionne avec capteur Adafruit, cl√© USB UART  Ôøº

‚∏ª

üß© √âtape‚ÄØ3 ‚Äì Enregistrement & v√©rification faciale (Python + webcam)

# face_auth.py
import face_recognition, cv2, pickle

# Enregistrement
img = face_recognition.load_image_file("user1.jpg")
enc = face_recognition.face_encodings(img)[0]
with open("encodings.pkl", "wb") as f: pickle.dump({"user1":enc}, f)

# V√©rification
cam = cv2.VideoCapture(0)
ret, frame = cam.read()
enc2 = face_recognition.face_encodings(frame)
if enc2:
    enc2 = enc2[0]
    data = pickle.load(open("encodings.pkl","rb"))
    for name, known in data.items():
        if face_recognition.compare_faces([known], enc2, tolerance=0.5)[0]:
            print("Hello", name)

Utilise la biblioth√®que face_recognition (99% exactitude).  Ôøº Ôøº

‚∏ª

üß© √âtape‚ÄØ4 ‚Äì API de v√©rification via Flask

# app.py
from flask import Flask, request, jsonify
import face_recognition, pickle, cv2
app = Flask(__name__)
data = pickle.load(open("encodings.pkl","rb"))

@app.route('/verify', methods=['POST'])
def verify():
    file = request.files['img']
    img = face_recognition.load_image_file(file)
    encs = face_recognition.face_encodings(img)
    if not encs: return jsonify({"status":"no_face"}),400
    for name, known in data.items():
        if face_recognition.compare_faces([known], encs[0])[0]:
            return jsonify({"status":"ok","user":name})
    return jsonify({"status":"denied"}),401

app.run(host="0.0.0.0", port=5000)

üëâ Envoie une image via POST multipart/form-data.

‚∏ª

üß† √âtape‚ÄØ5 ‚Äì S√©curit√© & bonnes pratiques
	‚Ä¢	Chiffrez les encodages (Fernet), stockez dans une DB s√©curis√©e.
	‚Ä¢	Int√©grez gestion des acc√®s (logs, alertes).
	‚Ä¢	Pr√©voyez seuils FMR/FNMR (ROC/EER)  Ôøº Ôøº
	‚Ä¢	Ajoutez anti-spoofing : d√©tection de vie, challenge (clignement).

‚∏ª

üîß √âtape‚ÄØ6 ‚Äì Extension multimodale

Combinez empreinte + visage pour plus de robustesse. Inspirez-vous du mod√®le multimodal  Ôøº dans le cloud et chiffrement des donn√©es.

‚∏ª

üß™ Quiz de consolidation
	1.	Pourquoi stocker une ‚Äúsignature‚Äù plut√¥t que l‚Äôimage ?
	2.	Quelle tol√©rance de comparaison faciale choisir ?
	3.	Quelles menaces pour les donn√©es biom√©triques stock√©es ?
	4.	Comment √©viter le spoofing par photo/masque ?
	5.	Pourquoi utiliser deux facteurs (empreinte + visage) ?

‚∏ª

‚úÖ Cas d‚Äôusage
	‚Ä¢	Syst√®me DIY d‚Äôacc√®s physique (porte, garage).
	‚Ä¢	Authentification de session sur poste de travail.
	‚Ä¢	Prototype d‚Äôapplication mobile/surveillance via API.

‚∏ª

üéì R√©sultat attendu
	‚Ä¢	App de v√©rification biom√©trique fonctionnelle.
	‚Ä¢	Syst√®me s√©curis√©, avec logs et chiffrement des donn√©es.
	‚Ä¢	Base pour b√¢tir un syst√®me industriel ou IoT s√©curis√©.

---

### üìö Sources & inspiration  
- `face_recognition` : biblioth√®que Python simple et pr√©cise  [oai_citation:8‚Ä°GitHub](https://github.com/ageitgey/face_recognition?utm_source=chatgpt.com) [oai_citation:9‚Ä°Wikipedia](https://en.wikipedia.org/wiki/Biometrics?utm_source=chatgpt.com) [oai_citation:10‚Ä°Stack Overflow](https://stackoverflow.com/questions/79701362/how-can-i-implement-a-two-step-security-system-with-fingerprint-and-facial-recog?utm_source=chatgpt.com) [oai_citation:11‚Ä°YouTube](https://www.youtube.com/watch?v=-IUae_-LqR4&utm_source=chatgpt.com)  
- Tutoriel Reconnaissance faciale par RealPython ()  
- Capteur empreinte Raspberry Pi (UART/USB)  [oai_citation:12‚Ä°Circuit Digest](https://circuitdigest.com/microcontroller-projects/raspberry-pi-fingerprint-sensor-interfacing?utm_source=chatgpt.com)  
- Concepts biom√©triques : templates, FMR/FNMR, mode enrollment/authentication ()