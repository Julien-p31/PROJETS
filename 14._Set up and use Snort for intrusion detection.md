# Tutoriel : DÃ©ployer Snort pour la dÃ©tection dâ€™intrusion rÃ©seau

## ğŸ¯ Objectif  
Installer et configurer Snort (IDS/IPS) pour surveiller le trafic rÃ©seau en temps rÃ©el, gÃ©nÃ©rer des alertes sur comportements suspects, et journaliser pour analyse.

## ğŸ§  ScÃ©nario dâ€™ancrage  
En tant quâ€™analyste SOC, vous dÃ©tectez des scans et attaques rÃ©seau. Snort devient votre **chien de garde**, vous alertant en direct.

---

## ğŸ› ï¸ PrÃ©requis  
- Linux (Ubuntu/Debian) avec `sudo`  
- Interface rÃ©seau cÃ¢blÃ©e ou convergÃ©e  
- AccÃ¨s internet pour tÃ©lÃ©charger les rÃ¨gles

---

## Ã‰tapeâ€¯1 â€“ Installer Snort

```bash
sudo apt update
sudo apt install snort

	â€¢	Durant lâ€™installation, Snort vous demande lâ€™interface Ã  surveiller (ex. eth0)  ï¿¼ ï¿¼ ï¿¼ ï¿¼
	â€¢	DÃ©finissez HOME_NET dans /etc/snort/snort.conf (ex. ipvar HOME_NET 192.168.1.0/24)  ï¿¼

â¸»

ğŸ§© Ã‰tapeâ€¯2 â€“ TÃ©lÃ©charger et configurer les rÃ¨gles
	1.	Inscrivez-vous sur Snort.org et rÃ©cupÃ©rez votre Oinkcode  ï¿¼
	2.	TÃ©lÃ©chargez les rÃ¨gles communautaires avec pulledpork ou manuellement
	3.	Activez les fichiers de rÃ¨gles (ex. snort.rules, community.rules) dans snort.conf

â¸»

ğŸ§© Ã‰tapeâ€¯3 â€“ Tester la configuration

sudo snort -T -c /etc/snort/snort.conf

	â€¢	VÃ©rifiez : OK pour la syntaxe et les rÃ¨gles chargÃ©es  ï¿¼

â¸»

Ã‰tapeâ€¯4 â€“ Lancer Snort en mode IDS

sudo snort -c /etc/snort/snort.conf -i eth0 -A console

	â€¢	Mode console : alertes et rÃ©sumÃ© (IP source/destination, port, message)  ï¿¼
	â€¢	Mode dÃ©mon : -D pour exÃ©cuter en arriÃ¨re-plan

â¸»

ğŸ§  Ã‰tapeâ€¯5 â€“ Tester les alertes

Depuis une autre machine :

nmap -sS -p1-1000 <IP_Snort>

Parcourez les alertes dans la console ou /var/log/snort/alert  ï¿¼.

â¸»

ğŸ§© Ã‰tapeâ€¯6 â€“ CrÃ©er une rÃ¨gle simple

Dans /etc/snort/rules/local.rules, ajoutez :

alert icmp any any -> $HOME_NET any (msg:"ICMP detected"; sid:1000001; rev:1;)

Rechargez Snort. Puis test :

ping -c3 <IP_Snort>

Vous verrez lâ€™alerte ICMP detected  ï¿¼ ï¿¼

â¸»

ğŸ§  Ã‰tapeâ€¯7 â€“ Tuning et optimisation
	â€¢	Activez prÃ©processeurs (dÃ©codage HTTP, portscanâ€¦)
	â€¢	SÃ©parez rÃ¨gles critiques, malware, exploit
	â€¢	GÃ©rez les faux positifs (thresholding, suppression)
	â€¢	Mettez en place un service systemd pour Snort en mode IDS

â¸»

âœ… Ã‰tapeâ€¯8 â€“ Surveillance et SIEM
	â€¢	Envoyez les logs vers une solution SIEM (ELK, Splunk)
	â€¢	Ajoutez un GUI comme Snorby, BASE, ou Sguil pour visualisation  ï¿¼ ï¿¼

â¸»

ğŸ§ª Quiz de consolidation
	1.	Que fait snort -T -c ... ?
	2.	Pourquoi dÃ©finir HOME_NET ?
	3.	Que signifie lâ€™option -A console ?
	4.	Pourquoi crÃ©er local.rules ?
	5.	Comment Ã©viter les faux positifs ?

â¸»

âœ… Cas dâ€™usage parfaits
	â€¢	DÃ©tection en temps rÃ©el de scans, payloads malveillants ou anomalies rÃ©seau
	â€¢	Solution IDS/IPS dans un laboratoire ou rÃ©seau personnel
	â€¢	Base solide pour SIEM ou forensic rÃ©seau

â¸»

ğŸ”§ Extensions possibles
	â€¢	Passage Ã  Snortâ€¯3 pour multithreading, plugins avancÃ©s  ï¿¼ ï¿¼ ï¿¼ ï¿¼ ï¿¼
	â€¢	DÃ©ploiement inline (IPS) via pfSense ou iptables
	â€¢	Automatisation rÃ¨gles avec PulledPork, Oinkmaster
	â€¢	IntÃ©gration en cluster avec Barnyard2 et Elasticsearch

â¸»

ğŸ“ RÃ©sultat attendu
	â€¢	Snort en Ã©coute active sur votre interface rÃ©seau
	â€¢	Alertes dÃ©tectÃ©es et journalisÃ©es
	â€¢	RÃ¨gles personnalisÃ©es via local.rules
	â€¢	Logs exploitables pour analyses ou alertes automatisÃ©es

Sources :
- HackerTarget (installation, exemples pratiques)  [oai_citation:18â€¡Ubuntu Help](https://help.ubuntu.com/community/SnortIDS?utm_source=chatgpt.com) [oai_citation:19â€¡Zenarmor](https://www.zenarmor.com/docs/linux-tutorials/how-to-install-and-configure-snort-on-ubuntu-linux?utm_source=chatgpt.com) [oai_citation:20â€¡Deskviewers -](https://www.ids-sax2.com/step-by-step-guide-ubuntu-snort-installation-and-configuration-for-intrusion-detection/?utm_source=chatgpt.com)  
- Ubuntu Community & Sax2 guides (HOME_NET, Oinkcode)  [oai_citation:21â€¡The Linux Code](https://thelinuxcode.com/snort-ubuntu-tutorial/?utm_source=chatgpt.com)  
- Kali Linux tutorial (modes, alertes)  [oai_citation:22â€¡Kali Linux Tutorials](https://kalilinuxtutorials.com/how-to-use-snort/?utm_source=chatgpt.com)  
- MakeUseOf & SecureMyOrg (dÃ©pendances, tuning)  [oai_citation:23â€¡securemyorg.com](https://securemyorg.com/setting-up-snort-snort-ids-securemyorg/?utm_source=chatgpt.com)  
- Toxigon, Wikipedia (rÃ¨gles, modes, GUI)  [oai_citation:24â€¡Toxigon](https://toxigon.com/snort-intrusion-detection?utm_source=chatgpt.com)