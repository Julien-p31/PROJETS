# Tutoriel : Utiliser des outils pour dÃ©tecter les vulnÃ©rabilitÃ©s systÃ¨me

## ğŸ¯ Objectif  
Identifier et remÃ©dier aux failles dâ€™un systÃ¨me Linux via une combinaison d'outils (Nmap, Lynis, OpenVAS, Vuls...), avec rapport, examen manuel et automatisation.

## ğŸ§  ScÃ©nario Ã©motionnel  
Vous administrez un serveur critique, vous apprenez quâ€™une faille SMb/WAN non corrigÃ©e est visible. Vous articulez un audit complet pour Ã©viter un exploit rÃ©el.

---

## ğŸ› ï¸ PrÃ©requis  
- Linux (Ubuntu/Debian ou Kali) avec `sudo`  
- Connexion internet  
- Installer les outils :

```bash
sudo apt update
sudo apt install nmap lynis openvas

	â€¢	Installer Vuls (Go-based, agentless)  ï¿¼ ï¿¼ ï¿¼

â¸»

ğŸ§© Ã‰tape 1 â€“ Cartographier et dÃ©couvrir
	1.	DÃ©couverte des hÃ´tes et services :

sudo nmap -sn 192.168.0.0/24 -oN hosts.txt
sudo nmap -sV -O -p- -oN full_scan.txt 192.168.0.10

	â€¢	-sn pour hÃ´tes actifs, -sV pour version logicielle, -O dÃ©tecte lâ€™OS ()

â¸»

ğŸ§© Ã‰tape 2 â€“ Audit local avec Lynis

sudo lynis audit system --quiet

	â€¢	Analyse des configurations, patchs manquants, conformitÃ© (ISO27001/Pci) ()
	â€¢	RÃ©sultat dans /var/log/lynis.log, alertes pour patch et durcissement.

â¸»

ğŸ§© Ã‰tape 3 â€“ Analyse complÃ¨te avec OpenVAS
	1.	Initialisation :

sudo gvm-setup
sudo gvm-start

	2.	Interface via https://127.0.0.1:9392:
	â€¢	Mettre Ã  jour les feeds NVT
	â€¢	CrÃ©er un scan ciblant vos hÃ´tes
	â€¢	Exporter un rapport HTML/PDF  ï¿¼ ï¿¼ ï¿¼ ï¿¼ ï¿¼

â¸»

ğŸ§© Ã‰tape 4 â€“ Scanner agentless avec Vuls
	1.	Installer Vuls ;
	2.	Configurer dans config.toml :

[vuls]
servers = ["192.168.0.10"]
[servers."192.168.0.10"]
  scanMode = ["os", "pkg"]

	3.	Lancer le scan :

vuls scan
vuls report

	â€¢	Rend compte des CVEs et suivi sur temps  ï¿¼ ï¿¼

â¸»

ğŸ§© Ã‰tape 5 â€“ Exploitation de vulnÃ©rabilitÃ©s connues
	1.	Importer un scan Nmap vers Metasploit :

msfconsole
db_import full_scan.txt

	2.	Rechercher des exploits (ex. search type:exploit name:apache)  ï¿¼
	3.	ExÃ©cuter un exploit pour test contrÃ´lÃ© (capture de preuve).

â¸»

ğŸ§  PiÃ¨ges Ã  Ã©viter
	â€¢	Ne pas lancer les scans en production sans protection â†’ risque de crash
	â€¢	Toujours sauvegarder avant modifications post-scan
	â€¢	VÃ©rifier les faux positifs (ex. services custom innocents)

â¸»

ğŸ§ª Quiz
	1.	Pourquoi utiliser Ã  la fois Nmap et OpenVAS ?
	2.	Quel avantage offre Lynis pour le durcissement systÃ¨me ?
	3.	Pourquoi Vuls est intÃ©ressant en mode agentless ?
	4.	Ã€ quoi sert lâ€™import dans Metasploit ?
	5.	Quelle prÃ©caution avant dâ€™exÃ©cuter un exploit contre votre systÃ¨me ?

â¸»

âœ… Cas dâ€™usage
	â€¢	Audit pÃ©riodique (mensuel/trimestriel)
	â€¢	Avant mise en production dâ€™un serveur internet
	â€¢	VÃ©rification post-dÃ©ploiement dâ€™applications critiques

â¸»

ğŸ”§ Automatisation
	â€¢	Ã‰crire un script Bash qui :
	â€¢	Lance Nmap, Lynis, Vuls quotidiennement
	â€¢	DÃ©clenche OpenVAS manuellement avec cron
	â€¢	Stocke les rapports dans /var/reports/vuln/

â¸»

ğŸ“ RÃ©sultat attendu
	â€¢	âœ… Carte prÃ©cise du rÃ©seau + services exposÃ©s
	â€¢	âœ… RÃ©sultat de durcissement systÃ¨me
	â€¢	âœ… Rapport dÃ©taillÃ© de vulnÃ©rabilitÃ©s avec CVEs
	â€¢	âœ… Preuve dâ€™exploit (pour tests internes uniquement)
	â€¢	âœ… ChaÃ®ne de remÃ©diation automatisÃ©e

---

### ğŸ“š Sources

- Comparatif scanners : Nmap, OpenVAS, ZAP, Nikto, sqlmap, OSVâ€‘Scanner  [oai_citation:11â€¡eSecurity Planet](https://www.esecurityplanet.com/networks/open-source-vulnerability-scanners/?utm_source=chatgpt.com) [oai_citation:12â€¡Wikipedia](https://en.wikipedia.org/wiki/Lynis?utm_source=chatgpt.com) [oai_citation:13â€¡Help Net Security](https://www.helpnetsecurity.com/2025/05/28/hottest-cybersecurity-open-source-tools-of-the-month-may-2025/?utm_source=chatgpt.com)  
- Vuls : agentless vuln scanner  [oai_citation:14â€¡Help Net Security](https://www.helpnetsecurity.com/2025/05/28/hottest-cybersecurity-open-source-tools-of-the-month-may-2025/?utm_source=chatgpt.com)  
- Lynis pour audit systÃ¨me & patch  [oai_citation:15â€¡Wikipedia](https://en.wikipedia.org/wiki/Lynis?utm_source=chatgpt.com)  
- Metasploit pour validation pratique des vulnÃ©rabilitÃ©s  [oai_citation:16â€¡Wikipedia](https://en.wikipedia.org/wiki/Metasploit?utm_source=chatgpt.com)