# Tutoriel : Tester les vulnÃ©rabilitÃ©s des appareils domotiques (smart home)

## ğŸ¯ Objectif  
Apprendre Ã  Ã©valuer la sÃ©curitÃ© des dispositifs connectÃ©s Ã  domicileâ€¯: scanners rÃ©seau, analyse firmware, tests dâ€™intÃ©gration, attaques Wiâ€‘Fi et Bluetooth, pour identifier failles critiques et savoir comment les corriger.

## ğŸ§  ScÃ©nario dâ€™ancrage  
Vous dÃ©veloppez un pentest home-lab. Vous suspectez que votre camÃ©ra, thermostat et hub domotique peuvent Ãªtre compromis. Vous devez en identifier les vulnÃ©rabilitÃ©s avant quâ€™un attaquant ne sâ€™en serve comme tÃªte de pont.

---

## ğŸ› ï¸ PrÃ©requis  
- Linux (Ubuntu/Debian) ou VM  
- MatÃ©riel : routeur + smart devices  
- Outils :
  - **Nmap**, **Nessus Essentials** pour scanner rÃ©seau  [oai_citation:0â€¡TenableÂ®](https://www.tenable.com/blog/how-to-know-if-your-smart-home-is-vulnerable?utm_source=chatgpt.com)  
  - **Wireshark**, **bettercap** pour analyse man-in-the-middle  
  - **Firmware analysis** : **binwalk**, **Firmware Mod Kit**  [oai_citation:1â€¡Reintech](https://reintech.io/blog/guide-to-testing-smart-home-devices?utm_source=chatgpt.com)  
  - **Bluetooth** : **Bleah**, tests â€“ vulnÃ©rabilitÃ© BlueBorne  [oai_citation:2â€¡Wikipedia](https://en.wikipedia.org/wiki/BlueBorne_%28security_vulnerability%29?utm_source=chatgpt.com)  
  - **OWASP IoT Security Testing Guide**  [oai_citation:3â€¡OWASP Foundation](https://owasp.org/blog/2024/03/01/iot-security-testing-guide?utm_source=chatgpt.com)

---

## ğŸ§© Ã‰tapeâ€¯1 â€“ Scanner rÃ©seau & dÃ©couvrir services

1. Identifiez les IP des appareils via DHCP.  
2. Lancezâ€¯:
   ```bash
   nmap -sS -p- 192.168.1.0/24

	3.	Analysez les services dÃ©couverts (HTTP, Telnet, SSH, UPnPâ€¦).
	4.	ExÃ©cutez un scan Nessus sur une IP cible. Exemple dâ€™un scan HTTPS / TLS  ï¿¼

â¸»

ğŸ§© Ã‰tapeâ€¯2 â€“ Analyse de la communication
	â€¢	Interceptez les flux avec Wireshark ou bettercap pour dÃ©tecter donnÃ©es en clair, tokens dâ€™authentification. Par exemple, mot de passe via HTTP non-chiffrÃ© ()

â¸»

ğŸ§© Ã‰tapeâ€¯3 â€“ Analyse du firmware
	1.	Exportez le firmware depuis lâ€™appareil.
	2.	Utilisez binwalk firmware.bin pour lâ€™extraire.
	3.	Analysez le contenu : mots de passe intÃ©grÃ©s, backdoors. Testez fuzzing sur les interfaces (HTTP/XML) ()

â¸»

ğŸ§© Ã‰tapeâ€¯4 â€“ Tester Bluetooth & Wiâ€‘Fi
	â€¢	Lancez bleah pour dÃ©tecter BLE vulnÃ©rable (SweynTooth, BlueBorne)  ï¿¼
	â€¢	Montez un â€œEvil Twinâ€ Wiâ€‘Fi via airbase-ng pour capter les credentials lors de la configuration dâ€™un device

â¸»

ğŸ§© Ã‰tapeâ€¯5 â€“ Tests dâ€™intÃ©gration & interopÃ©rabilitÃ©
	â€¢	DÃ©ployez scÃ©nario multi-device : thermostat communiquant avec hub, hub avec cloud.
	â€¢	Analysez les interactions : APIs HTTP, MQTT, UPnP, Zigbee, Z-Wave
	â€¢	Assurez-vous quâ€™un device compromis ne peut pas manipuler un autre via le hub.

â¸»

ğŸ§© Ã‰tapeâ€¯6 â€“ IDS & surveillance rÃ©seau domestique
	â€¢	Installez un NIDS lÃ©ger (Suricata ou Snort) sur votre rÃ©seau pour dÃ©tecter anomalies IoT
	â€¢	DÃ©finissez rÃ¨gles de dÃ©tection : trafic externe vers serveurs inconnus, explosion de connexions, etc.

â¸»

ğŸ§  Ã‰tapeâ€¯7 â€“ Rapport & remÃ©diation
	â€¢	Documentez chaque faille (service exposÃ©, mot de passe par dÃ©faut, BLE vulnÃ©rableâ€¦)
	â€¢	Proposez des correctifs : changer mots de passe, activer TLS, firmware patch, segmentation rÃ©seau, dÃ©sactiver ports inutiles
	â€¢	Re-testez aprÃ¨s corrections

â¸»

ğŸ§ª Quiz de consolidation
	1.	Pourquoi analyser le firmware dâ€™un appareilÂ ?
	2.	Quel risque reprÃ©sente un Wiâ€‘Fi â€œEvil Twinâ€ lors de la mise en placeâ€¯?
	3.	Quelle faille exploitable via Bluetooth Low EnergyÂ ?
	4.	Pourquoi installer un IDS pour un rÃ©seau domestique IoTÂ ?
	5.	Comment limiter les risques interâ€‘appareilsâ€¯?

â¸»

âœ… Cas dâ€™usage
	â€¢	Pentest de camÃ©ra, hub ou thermostat
	â€¢	Audit sÃ©curitÃ© pour Ã©quipements domotique avant dÃ©ploiement
	â€¢	Formation personnelle en sÃ©curitÃ© IoT

â¸»

ğŸ”§ Extensions possibles
	â€¢	Automatiser lâ€™extraction & analyse de firmware
	â€¢	IntÃ©grer tests de fuzzing sur services UPnP/MQTT
	â€¢	DÃ©ployer honeypot IoT (exemples MichuLab, Conpot)
	â€¢	Ajouter module Machine Learning pour dÃ©tection comportementale

â¸»

ğŸ“ RÃ©sultat attendu
	â€¢	Analyse complÃ¨te dâ€™un appareil IoT
	â€¢	Liste claire de failles et recommandations correctives
	â€¢	RÃ©seau domestique segmentÃ© avec IDS actif
	â€¢	Expertise opÃ©rationnelle en pentest domotique

---

### ğŸ“š RÃ©fÃ©rences clÃ©s  
- Scanning & vulnÃ©rabilitÃ©s HTTP/TLS via Nessus   
- Firmware & fuzzing techniques   
- BLE risks (SweynTooth/BlueBorne)   
- Evilâ€‘Twin attacks AP mode   
- OWASP IoT Security Testing Guide   
- IDS comparatif sur smartâ€‘home 

20,turn0news28îˆ