# Tutoriel : CrÃ©er un labo de cybersÃ©curitÃ© personnel Ã  domicile

## ğŸ¯ Objectifs
- Monter un environnement virtuel isolÃ© pour tests offensifs et dÃ©fensifs
- Explorer outils (pfSense, Kali, Metasploit, Security Onion, Splunk, vulnÃ©rables...)
- Se former Ã  la segmentation, dÃ©tection et rÃ©action Ã  des attaques

## ğŸ§  ScÃ©nario Ã©motionnel
Un stagiaire dÃ©bute ; suite Ã  une simulation dâ€™attaque rÃ©elle dans lâ€™entreprise, vous crÃ©ez un labo chez vous pour poursuivre les tests sans impacter la prod â€” un vrai terrain dâ€™entraÃ®nement.

---

## ğŸ› ï¸ PrÃ©requis
- SystÃ¨me (Windows/Linux/Mac) avec **16â€¯Go RAM** et **250â€¯Go SSD**  [oai_citation:0â€¡DEV Community](https://dev.to/aditya8raj/building-a-home-lab-for-cybersecurity-practice-a-step-by-step-guide-31id?utm_source=chatgpt.com)  
- Virtualisation activÃ©e (VTâ€‘x/AMDâ€‘V) dans le BIOS  [oai_citation:1â€¡Source Code](https://blog.davidvarghese.dev/posts/building-home-lab-part-1/?utm_source=chatgpt.com)  
- VirtualBox, VMware Player ou Proxmox  [oai_citation:2â€¡Reddit](https://www.reddit.com/r/cybersecurity/comments/lozs05/home_lab_essentials_for_a_beginner/?utm_source=chatgpt.com)  

---

## ğŸ§© Ã‰tape 1 â€“ Planifier le rÃ©seau
DÃ©finir trois segments :
- **WAN** : accÃ¨s Internet issu du routeur local
- **DMZ/labo** : avec pfSense comme firewall/gateway
- **LAN personnel** : isolÃ© du labo

ğŸ“Œ SchÃ©ma : LAN â† pfSense â† DMZ â† WAN  [oai_citation:3â€¡Source Code](https://blog.davidvarghese.dev/posts/building-home-lab-part-1/?utm_source=chatgpt.com) [oai_citation:4â€¡Medium](https://medium.com/%40jibingeorge.mg/cybersecurity-research-lab-setup-5beb54d8dd59?utm_source=chatgpt.com)

---

## ğŸ› ï¸ Ã‰tape 2 â€“ Installer la plateforme de virtualisation
Exemple avec VirtualBox :
1. Installer VirtualBox  
2. Activer VTâ€‘x/AMDâ€‘V si nÃ©cessaire  
3. CrÃ©er un **Virtual Network** interne pour le labo (mode "Hostâ€‘Only" ou "Internal")  [oai_citation:5â€¡Source Code](https://blog.davidvarghese.dev/posts/building-home-lab-part-1/?utm_source=chatgpt.com) [oai_citation:6â€¡DEV Community](https://dev.to/aditya8raj/building-a-home-lab-for-cybersecurity-practice-a-step-by-step-guide-31id?utm_source=chatgpt.com)

---

## ğŸ§© Ã‰tape 3 â€“ DÃ©ployer pfSense (firewall/gateway)
1. TÃ©lÃ©charger lâ€™ISO de pfSense  
2. CrÃ©er VM : 2â€¯vCPU, 4â€¯Go RAM, deux interfaces (WAN, LAN interne)  
3. Installer pfSense  
4. Configurer LAN interne et DHCP  
5. Ajouter packages IDS : Suricata ou Snort  [oai_citation:7â€¡LinkedIn](https://www.linkedin.com/pulse/building-basic-cybersecurity-home-lab-hands-on-experience-sofiya-seid-cxgqc?utm_source=chatgpt.com) [oai_citation:8â€¡Reddit](https://www.reddit.com/r/cybersecurity/comments/lozs05/home_lab_essentials_for_a_beginner/?utm_source=chatgpt.com)

---

## ğŸ› ï¸ Ã‰tape 4 â€“ CrÃ©er les VMs de labo
- **Attaquant** : Kali Linux  
- **Cible vulnÃ©rable** : Metasploitable2/3  
- **DÃ©fense** : Security Onion ou Snort  
- **Logging/Analyse** : Splunk, ELK ou Security Onion  [oai_citation:9â€¡DEV Community](https://dev.to/aditya8raj/building-a-home-lab-for-cybersecurity-practice-a-step-by-step-guide-31id?utm_source=chatgpt.com) [oai_citation:10â€¡Reddit](https://www.reddit.com/r/cybersecurity/comments/lozs05/home_lab_essentials_for_a_beginner/?utm_source=chatgpt.com)

---

## ğŸ§© Ã‰tape 5 â€“ Configurer le rÃ©seau interne
1. Associer toutes les VMs Ã  lâ€™interface LAN interne pfSense  
2. Activer VLAN si votre hyperviseur/scÃ©nario l'exige  [oai_citation:11â€¡Medium](https://medium.com/%40jibingeorge.mg/cybersecurity-research-lab-setup-5beb54d8dd59?utm_source=chatgpt.com) [oai_citation:12â€¡YouTube](https://www.youtube.com/watch?v=f8SCF2UoT4c&utm_source=chatgpt.com)  
3. VÃ©rifier que seul le trafic vers Internet passe via pfSense (NAT/PAT)

---

## ğŸ§  Ã‰tape 6 â€“ ScÃ©narios offensifs/dÃ©fensifs

#### A. Scan & exploit
1. Lancer `nmap -sC -sV <cible>` depuis Kali  
2. Exploiter avec Metasploit  
3. Observer alerts IDS (Suricata/Snort) + logs Splunk/ELK

#### B. Analyse rÃ©seau
- Capture avec Wireshark ou Security Onion  
- DÃ©tecter comportements suspects, patterns signature

---

## ğŸ§ª Segment actif
Pour chaque VM de laboratoire, crÃ©ez la commande dâ€™installation vousâ€‘mÃªme :
```bash
apt update && apt install metasploit-framework

Puis documentez chaque Ã©tape dans un fichier .md

â¸»

ğŸ§  Analogies & piÃ¨ges
	â€¢	Ton labo, câ€™est ton bac Ã  sable â€” casse tout, rÃ©installe tout ğŸ˜‰
	â€¢	VÃ©rifiez lâ€™isolement : votre box perso ne doit jamais voir les VMs
	â€¢	IDS correctement injectÃ© : votre firewall ne doit PAS Ãªtre en fail-open

â¸»

âœ… Quiz de consolidation
	1.	Pourquoi isoler le LAN personnel du labo ?
	2.	Ã€ quoi sert pfSense dans ce scÃ©nario ?
	3.	Pourquoi dÃ©ployer une VM vulnÃ©rable (Metasploitable) ?
	4.	Quels signaux IDS demanderiez-vous ?
	5.	Comment documenter votre labo pour le reproduire ?

â¸»

âœ… Cas dâ€™usage concrets
	â€¢	PrÃ©parer des exercices: phishing, scan, exploit, detection
	â€¢	Environnement pour TryHackMe / HackTheBox
	â€¢	Professionnalisation via simili-SIEM (Splunk/ELK)

â¸»

ğŸ”§ Extensions possibles
	â€¢	Automatiser via terraform + ansible
	â€¢	Ajouter AD (Win Server) + clients Windows/Linux
	â€¢	Mettre en place VPN (OpenVPN/CA via AD)  ï¿¼ ï¿¼ ï¿¼ ï¿¼ ï¿¼

â¸»

ğŸ“ RÃ©sultat attendu
	â€¢	Labo complet (pfSense, Kali, cibles vulnÃ©rables, IDS et SIEM)
	â€¢	ScÃ©narios dâ€™attaque dÃ©tectÃ©s et analysÃ©s
	â€¢	Grade de compÃ©tences renforcÃ©, documentation performante

---

### ğŸ“š Sources principales
- Plan de labo VirtualBox/pfSense/Kali/Metasploitable  [oai_citation:18â€¡Medium](https://medium.com/%40CyberBaller/learning-cybersecurity-the-fun-way-through-homelabs-412e171dc986?utm_source=chatgpt.com) [oai_citation:19â€¡LinkedIn](https://www.linkedin.com/posts/jared-kucij-39b32b1a4_cybersecurity-homelab-blueteam-activity-7338892084524789763-mq3y?utm_source=chatgpt.com)  
- Isolation rÃ©seau avec VLAN/IDS  [oai_citation:20â€¡Medium](https://medium.com/%40jibingeorge.mg/cybersecurity-research-lab-setup-5beb54d8dd59?utm_source=chatgpt.com)  
- SÃ©curitÃ© proactive : Splunk, ELK, Security Onion ()
